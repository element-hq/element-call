<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="859px" height="1229px" viewBox="-0.5 -0.5 859 1229" content="&lt;mxfile host=&quot;drawio-plugin&quot; modified=&quot;2023-03-01T09:54:53.277Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36&quot; etag=&quot;ZjmefV8CiOYTA7FuHcO-&quot; version=&quot;20.5.3&quot; type=&quot;embed&quot;&gt;&lt;diagram id=&quot;23iRSUPoRavnBvh4doch&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><path d="M 301 160 L 301 180 L 81 180 L 81 251" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 72 260 Q 72 251 81 251 Q 90 251 90 260" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 346 160 L 345.95 200 L 125.95 200 L 125.99 251" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="stroke"/><path d="M 117 260.01 Q 116.99 251.01 125.99 251 Q 134.99 250.99 135 259.99" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="256" y="70" width="180" height="90" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 182px; height: 90px; padding-top: 70px; margin-left: 255px;"><div data-drawio-colors="color: #333333; " style="box-sizing: border-box; font-size: 0px; text-align: center; width: 180px; height: 90px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(51, 51, 51); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 6px 0px 0px;"><b>SFU</b></p><hr /><p style="margin:0px;margin-left:8px;"><b>@sfu:matrix.org</b></p></div></div></div></foreignObject><text x="346" y="119" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">SFU...</text></switch></g><path d="M 416 74 L 432 74 L 432 94 L 416 94 L 416 90 L 412 90 L 412 86 L 416 86 L 416 82 L 412 82 L 412 78 L 416 78 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 416 78 L 420 78 L 420 82 L 416 82 M 416 86 L 420 86 L 420 90 L 416 90" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 126 160 L 126 251" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="stroke"/><path d="M 117 260 Q 117 251 126 251 Q 135 251 135 260" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 81 160 L 81 251" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 72 260 Q 72 251 81 251 Q 90 251 90 260" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 171 160 L 171 251" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 162 260 Q 162 251 171 251 Q 180 251 180 260" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="36" y="70" width="180" height="90" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 182px; height: 90px; padding-top: 70px; margin-left: 36px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 90px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin:0px;margin-top:6px;text-align:center;"><b>Client</b></p><p style="margin:0px;margin-top:6px;text-align:center;"><b>@alice:matrix.org</b></p></div></div></div></foreignObject><text x="36" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Client...</text></switch></g><path d="M 196 74 L 212 74 L 212 94 L 196 94 L 196 90 L 192 90 L 192 86 L 196 86 L 196 82 L 192 82 L 192 78 L 196 78 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 196 78 L 200 78 L 200 82 L 196 82 M 196 86 L 200 86 L 200 90 L 196 90" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 667 160 L 667 251" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 658 260 Q 658 251 667 251 Q 676 251 676 260" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 712 160 L 712 251" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="stroke"/><path d="M 703 260 Q 703 251 712 251 Q 721 251 721 260" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 757 160 L 757 251" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 748 260 Q 748 251 757 251 Q 766 251 766 260" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><rect x="622" y="70" width="180" height="90" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 182px; height: 90px; padding-top: 70px; margin-left: 622px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; width: 180px; height: 90px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; width: 100%; height: 100%; white-space: nowrap;"><p style="margin: 6px 0px 0px; text-align: center;"><b>Client</b></p><p style="margin: 6px 0px 0px; text-align: center;"><b>@bob:example.org</b></p></div></div></div></foreignObject><text x="622" y="119" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Client...</text></switch></g><path d="M 782 74 L 798 74 L 798 94 L 782 94 L 782 90 L 778 90 L 778 86 L 782 86 L 782 82 L 778 82 L 778 78 L 782 78 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 782 78 L 786 78 L 786 82 L 782 82 M 782 86 L 786 86 L 786 90 L 782 90" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="146" y="600" width="326" height="152" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><path d="M 146 600 L 472 600 L 472 752 L 146 752 L 146 600" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 623 L 220 623 L 472 623" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 643 L 220 643 L 472 643" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 671 L 220 671 L 472 671" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 691 L 220 691 L 472 691" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 712 L 220 712 L 472 712" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 732 L 220 732 L 472 732" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 600 L 220 623 L 220 643 L 220 671 L 220 691 L 220 712 L 220 732 L 220 752" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 600 M 220 600 M 220 623 M 146 623" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 72px; height: 1px; padding-top: 611px; margin-left: 148px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 19px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">State:</div></div></div></foreignObject><text x="148" y="615" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">State:</text></switch></g><path d="M 220 600 M 472 600 M 472 623 M 220 623" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 623 M 220 623 M 220 643 M 146 643" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 623 M 472 623 M 472 643 M 220 643" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 633px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 10px;">Room ID: !qporfwt:matrix.org</font></div></div></div></foreignObject><text x="222" y="637" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Room ID: !qporfwt:matrix.org</text></switch></g><path d="M 146 643 M 220 643 M 220 671 M 146 671" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 643 M 472 643 M 472 671 M 220 671" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 657px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 24px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font style="font-size: 10px;">Servers: matrix.org, example.org</font></div></div></div></foreignObject><text x="222" y="661" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Servers: matrix.org, example.org</text></switch></g><path d="M 146 671 M 220 671 M 220 691 M 146 691" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 72px; height: 1px; padding-top: 681px; margin-left: 148px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Members</div></div></div></foreignObject><text x="148" y="685" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Members</text></switch></g><path d="M 220 671 M 472 671 M 472 691 M 220 691" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 146 691 M 220 691 M 220 712 M 146 712" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 691 M 472 691 M 472 712 M 220 712" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 701px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 17px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">@alice:matrix.org </div></div></div></foreignObject><text x="222" y="705" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">@alice:matrix.org </text></switch></g><path d="M 146 712 M 220 712 M 220 732 M 146 732" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><path d="M 220 712 M 472 712 M 472 732 M 220 732" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 722px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">@bob:example.org</div></div></div></foreignObject><text x="222" y="726" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">@bob:example.org</text></switch></g><path d="M 146 732 M 220 732 M 220 752 M 146 752" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 72px; height: 1px; padding-top: 742px; margin-left: 148px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Messages</div></div></div></foreignObject><text x="148" y="746" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">Messages</text></switch></g><path d="M 220 732 M 472 732 M 472 752 M 220 752" fill="none" stroke="rgb(0, 0, 0)" stroke-linecap="square" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 250px; height: 1px; padding-top: 742px; margin-left: 222px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left; max-height: 16px; overflow: hidden;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div>@alice:matrix.org  <span style="background-color: initial;">Content: { JSON object } </span></div></div></div></div></foreignObject><text x="222" y="746" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">@alice:matrix.org  Content: { JSON object...</text></switch></g><path d="M 222.98 457.68 L 617.76 456.52" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="none"/><path d="M 216.98 457.69 L 224.96 453.67 L 222.98 457.68 L 224.99 461.67 Z" fill="#0000cc" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 623.76 456.51 L 615.78 460.53 L 617.76 456.52 L 615.75 452.53 Z" fill="#0000cc" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 214.74 414.7 L 281 414.74 L 334 414.95" fill="none" stroke="#a680b8" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="339" cy="414.97" rx="4.999999999999999" ry="4.999999999999999" fill="none" stroke="#a680b8" stroke-width="2" pointer-events="none"/><path d="M 224.24 395 L 617.76 395" fill="none" stroke="#97d077" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="none"/><path d="M 218.24 395 L 226.24 391 L 224.24 395 L 226.24 399 Z" fill="#97d077" stroke="#97d077" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 623.76 395 L 615.76 399 L 617.76 395 L 615.76 391 Z" fill="#97d077" stroke="#97d077" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><rect x="36" y="370" width="180" height="100" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 420px; margin-left: 126px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><b style="font-size: 12px;">Homeserver<br />&lt;&lt;matrix.org&gt;&gt;</b></div></div></div></foreignObject><text x="126" y="423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Homeserver...</text></switch></g><path d="M 193 377 L 209 377 L 209 397 L 193 397 L 193 393 L 189 393 L 189 389 L 193 389 L 193 385 L 189 385 L 189 381 L 193 381 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 193 381 L 197 381 L 197 385 L 193 385 M 193 389 L 197 389 L 197 393 L 193 393" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><rect x="626" y="370" width="180" height="100" fill="#ffe6cc" stroke="#d79b00" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 420px; margin-left: 716px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 10px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: nowrap;"><font style="font-size: 12px;"><b>Homeserver<br />&lt;example.org&gt;&gt;</b></font></div></div></div></foreignObject><text x="716" y="423" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="10px" text-anchor="middle">Homeserver...</text></switch></g><path d="M 783 377 L 799 377 L 799 397 L 783 397 L 783 393 L 779 393 L 779 389 L 783 389 L 783 385 L 779 385 L 779 381 L 783 381 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 783 381 L 787 381 L 787 385 L 783 385 M 783 389 L 787 389 L 787 393 L 783 393" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><path d="M 168.5 585 L 146 585 L 146 537 L 342 537 L 342 585 L 183.5 585 L 161 600 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 194px; height: 1px; padding-top: 561px; margin-left: 147px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Shared State between Homeserver causes by State Events</div></div></div></foreignObject><text x="244" y="565" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Shared State between Homeserver...</text></switch></g><path d="M 478.6 727 L 477 727 L 477 640 L 717 640 L 717 727 L 494.6 727 L 470.6 743 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 684px; margin-left: 478px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Messages saved as DAG<br />Here ist the concept of consistent ordering <br />events between different Homeserver<br />implemented</div></div></div></foreignObject><text x="597" y="687" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Messages saved as DAG...</text></switch></g><path d="M 302.5 55 L 280 55 L 280 0 L 686 0 L 686 55 L 317.5 55 L 295 70 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 404px; height: 1px; padding-top: 28px; margin-left: 281px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><div style=""><span style="background-color: rgb(255, 255, 255); color: rgb(36, 41, 47);"> SFUs aren't registered as room members at all, they're just users on the Homeserver, so other users can send to_device messages to them but they won't get either room messages nor state.</span></div></div></div></div></foreignObject><text x="483" y="31" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">SFUs aren't registered as room members at all, they're just users...</text></switch></g><path d="M 171 270 L 171 370" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="171" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#0000cc" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 114px; height: 1px; padding-top: 287px; margin-left: 158px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font color="#0000cc" face="menlo, monospace"><span style="font-size: 11px; background-color: rgb(255, 255, 255);">State Event</span></font></div></div></div></foreignObject><text x="158" y="299" fill="#000000" font-family="Helvetica" font-size="12px">State Event</text></switch></g><path d="M 81 270 L 81 370" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="81" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#4d9900" stroke-width="2" pointer-events="none"/><rect x="13" y="800" width="803" height="380" fill="rgb(255, 255, 255)" stroke="none" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 801px; height: 1px; padding-top: 807px; margin-left: 15px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="font-family: menlo, monospace; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;"><span style="text-align: left;"><font style="font-size: 13px;"><u style="">Legend</u></font><span style="font-size: 11px;">:</span><br /><font color="#0000cc" style="font-size: 11px;">_______ </font><br /><font color="#0000cc" style="font-size: 11px;">        Static Events:<br />        </font><font style="font-size: 11px;">Desc: State Events persisted and accessible by each room member</font><font color="#0000cc" style="font-size: 11px;"> <br /></font></span><span style="font-size: 11px; text-align: left;">        Endpoint: (HTTPS/PUT)</span><br /><span style="font-size: 11px;">        URL: _matrix/client/r0/rooms/{room_id}/state/{event_state_name}/{user_id}</span></span><br style="color: rgb(0, 0, 0); font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: center; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;" /><div style="color: rgb(0, 0, 0); font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><br /></div><div style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><font color="#4d9900">_______</font></div><div style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><span style="color: rgb(0, 0, 0);">        </span><font color="#4d9900">To Device Message:</font></div><div style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><font color="#4d9900">        </font>Desc: To Device Messages are send directly to another user and device</div><div style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><span style=""></span>        Endpoint: (HTTPS/PUT)<font color="#4d9900"><br /></font><span style="color: rgb(0, 0, 0); text-align: center;">        URL: </span><span style="background-color: initial; text-align: center;">_matrix/client/r0/sendToDevice/{type}/{timestamp}</span></div><div style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><br />.......</div><div style="color: rgb(0, 0, 0); font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><br /></div><div style="color: rgb(0, 0, 0); font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;">        Sync Events:</div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><font face="menlo, monospace"><span style="font-size: 11px;">        Desc: Technical Endpoint. The client receive each kind of messages (State Ebvent, To Device Messages, ...) from                the Homeserver via polling the the Sync Endpoint.</span></font></div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><font face="menlo, monospace"><span style="font-size: 11px;">        Endpoint: (HTTPS/GET)<br /></span></font><span style="font-family: menlo, monospace; font-size: 11px; text-align: center;">        URL: _matrix/client/r0/sync/...</span></div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><br /></div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><font color="#b5739d">_______</font></div><font face="menlo, monospace"><span style="font-size: 11px;">        <font color="#b5739d">Server-Server API History Synchronisation (Federation)</font></span></font><font face="menlo, monospace"><span style="font-size: 11px;">:</span></font><br /><font face="menlo, monospace"><span style="font-size: 11px;">        Desc: Homeservers use these APIs to push messages to each other in real-time, to retrieve historic messages<br />              from each other, and to query profile and presence information about users on each other’s servers<br /></span></font> <br /><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;">        </div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"></div><div style="orphans: 2; text-indent: 0px; widows: 2; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; text-align: left;"><br /><br /><br /></div></div></div></div></foreignObject><text x="15" y="819" fill="#000000" font-family="Helvetica" font-size="12px">Legend:...</text></switch></g><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 114px; height: 1px; padding-top: 287px; margin-left: 2px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font face="menlo, monospace" color="#4d9900"><span style="font-size: 11px; background-color: rgb(255, 255, 255);">To Device Message</span></font></div></div></div></foreignObject><text x="2" y="299" fill="#000000" font-family="Helvetica" font-size="12px">To Device Message</text></switch></g><path d="M 126 270 L 125.95 320 L 126 370" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="none"/><ellipse cx="126" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 103px; height: 1px; padding-top: 317px; margin-left: 103px;"><div data-drawio-colors="color: #66FF66; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 255, 102); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;"><font color="#000000">Sync <br />Endpoint</font></span></div></div></div></foreignObject><text x="103" y="329" fill="#66FF66" font-family="Helvetica" font-size="12px">Sync...</text></switch></g><path d="M 757 270 L 757 370" fill="none" stroke="#0000cc" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="757" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#0000cc" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 114px; height: 1px; padding-top: 287px; margin-left: 744px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font color="#0000cc" face="menlo, monospace"><span style="font-size: 11px; background-color: rgb(255, 255, 255);">State Event</span></font></div></div></div></foreignObject><text x="744" y="299" fill="#000000" font-family="Helvetica" font-size="12px">State Event</text></switch></g><path d="M 667 270 L 667 370" fill="none" stroke="#4d9900" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="667" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#4d9900" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 114px; height: 1px; padding-top: 287px; margin-left: 588px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><font face="menlo, monospace" color="#4d9900"><span style="font-size: 11px; background-color: rgb(255, 255, 255);">To Device Message</span></font></div></div></div></foreignObject><text x="588" y="299" fill="#000000" font-family="Helvetica" font-size="12px">To Device Message</text></switch></g><path d="M 712 270 L 712.05 320 L 712 370" fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="none"/><ellipse cx="712" cy="265" rx="4.999999999999999" ry="4.999999999999999" fill="rgb(255, 255, 255)" stroke="#000000" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 103px; height: 1px; padding-top: 317px; margin-left: 689px;"><div data-drawio-colors="color: #66FF66; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(102, 255, 102); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="font-family: menlo, monospace; font-size: 11px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;"><font color="#000000">Sync <br />Endpoint</font></span></div></div></div></foreignObject><text x="689" y="329" fill="#66FF66" font-family="Helvetica" font-size="12px">Sync...</text></switch></g><path d="M 264.5 375 L 242 375 L 242 320 L 622 320 L 622 375 L 279.5 375 L 257 390 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 378px; height: 1px; padding-top: 348px; margin-left: 243px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">To Device messages are dispatched between Homeserver via the Federation API. There are not persistent like Sate Events, but have a guarantee of receipt at the recipient.</div></div></div></foreignObject><text x="432" y="351" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">To Device messages are dispatched between Homeserver via the Fe...</text></switch></g><path d="M 356 440 L 477 440" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 486 449 Q 477 449 477 440 Q 477 431 486 431" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 355 415 L 489 414.95 L 626 415" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 346 406 Q 355 406 355 415 Q 355 424 346 424" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 626 445 L 626.05 440 L 498 440" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="493" cy="440" rx="4.999999999999999" ry="4.999999999999999" fill="none" stroke="#b5739d" stroke-width="2" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 1px; padding-top: 432px; margin-left: 274px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="background-color: rgb(255, 255, 255);"><font style="font-size: 12px;" color="#b5739d">Federation API</font></span></div></div></div></foreignObject><text x="274" y="444" fill="#000000" font-family="Helvetica" font-size="12px">Federation API</text></switch></g><path d="M 216 440 L 272 440" fill="none" stroke="#b5739d" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 82px; height: 1px; padding-top: 407px; margin-left: 474px;"><div data-drawio-colors="color: #000000; " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="background-color: rgb(255, 255, 255);"><font style="font-size: 12px;" color="#b5739d">Federation API</font></span></div></div></div></foreignObject><text x="474" y="419" fill="#000000" font-family="Helvetica" font-size="12px">Federation API</text></switch></g><path d="M 430.92 596.5 L 431 460" fill="none" stroke="#000099" stroke-width="2" stroke-miterlimit="10" stroke-dasharray="1.9999999999999998 1.9999999999999998" pointer-events="none"/><path d="M 445.73 540 L 436 540 L 436 490 L 636 490 L 636 540 L 465.73 540 L 435.73 560 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)scale(0.9999999999999999)"><switch><foreignObject pointer-events="none" width="101%" height="101%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 515px; margin-left: 437px;"><div data-drawio-colors="color: #B5739D; " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(181, 115, 157); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0, 0, 0); font-size: 13px; background-color: rgb(255, 255, 255);">The shared state get synced between Homeservers via </span><span style="color: rgb(0, 0, 0);">Federation API</span></div></div></div></foreignObject><text x="536" y="519" fill="#B5739D" font-family="Helvetica" font-size="12px" text-anchor="middle">The shared state get synced betwe...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>